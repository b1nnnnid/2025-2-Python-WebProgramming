{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í†µí•© ê²€ìƒ‰ ê²°ê³¼</title>
    <!-- MyPostPageì™€ ë™ì¼í•œ CSS íŒŒì¼ì„ ì‚¬ìš©. -->
    <link rel="stylesheet" href="{% static 'css/MyPostPage.css'%}" />
    <link rel="stylesheet" href="{% static 'css/SearchForm.css'%}" />
</head>
<body>
    <a href="{% url 'posts:main' %}">í™ˆìœ¼ë¡œ</a>
    
    <form class="search-form" method="GET" action="{% url 'posts:search' %}">
        <input type="search" name="q" placeholder="ì œëª©ì´ë‚˜ ë‚´ìš©ì„ ê²€ìƒ‰í•˜ì„¸ìš”" value="{{ query|default_if_none:'' }}" required>
        <button type="submit">ê²€ìƒ‰</button>
    </form>
    
    <!-- ê²€ìƒ‰ ê²°ê³¼ ì œëª© -->
    <h1>'{{ query }}' ê²€ìƒ‰ ê²°ê³¼</h1>
    <br><hr><br>

    {% load humanize %}
    
    <!-- ğŸ’¡ ê²Œì‹œê¸€ ëª©ë¡ ë°˜ë³µ -->
    {% for post in search_results %}
        <!-- ê²Œì‹œê¸€ ì œëª© (ìƒì„¸ í˜ì´ì§€ ë§í¬) -->
        <h2><a href="{% url 'posts:detail' post.id %}">{{ post.title }}</a></h2>
        
        <div class="post-content-group"> 
            <p>{{ post.content|truncatechars:150 }}</p> 
            <p>{{ post.created_at }} | {% if post.is_anonymous %}ìµëª…{% else %}{{ post.author.nickname }}{% endif %}</p>
            <small>ê²Œì‹œíŒ: {{ post.category.name }}</small>
        </div>
        <hr>
    {% empty %}
        <!-- ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì„ ë•Œ -->
        <p>ì£„ì†¡í•©ë‹ˆë‹¤. '{{ query }}'ì™€ ì¼ì¹˜í•˜ëŠ” ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endfor %}

</body>
</html>